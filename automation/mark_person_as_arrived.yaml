---
alias: Mark Person as just arrived
id: mark_person_as_just_arrived
trigger:
  - platform: state
    entity_id: person.kyle
    from: 'not_home'
    to: 'home'
  - platform: state
    entity_id: person.charlotte
    from: 'not_home'
    to: 'home'
action:
  - service: input_select.select_option
    data:
      entity_id: >
        {% if trigger.entity_id == 'person.kyle' %}
          input_select.kyle_status_dropdown
        {% elif trigger.entity_id == 'person.charlotte' %}
          input_select.charlotte_status_dropdown
        {% endif %}
      option: Just Arrived

  - service: logbook.log
    data:
      name: EVENT
      message: >
        {{ trigger.to_state.attributes.friendly_name }} has just arrived at the house.
