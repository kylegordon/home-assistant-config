input_boolean:
  guest_mode:
    name: Guest Mode
    icon: mdi:account-alert
    initial: off

binary_sensor:
  guest_mode:
    name: Guest Mode
    icon: mdi:account-alert
    value_template: "{{
      is_state('input_boolean.guest_mode', on)
      or is_state('person.ronnie','home')
      or is_state('person.eilean', 'home')
      }}"

automation:
  - alias: Guest mode enable
    trigger:
      - platform: state
        entity_id: person.ronnie
        from: 'not_home'
        to: 'home'
      - platform: state
        entity_id: person.eilean
        from: 'not_home'
        to: 'home'
    action:
      - service: input_boolean.turn_on
        entity_id: input_select.guest_mode

  - alias: Guest mode disable
    trigger:
      - platform: state
        entity_id: person.ronnie
        from: 'home'
        to: 'not_home'
      - platform: state
        entity_id: person.eilean
        from: 'home'
        to: 'not_home'
    action:
      - service: input_boolean.turn_off
        entity_id: input_select.guest_mode