automation:
  - alias: Printer state change notification
    trigger:
      - platform: state
        entity_id: sensor.octoprint_print_status
        from: "Operational"
        to: "Printing"
    action:
      - service: notify.alexa_media
        data_template:
          target:
            - media_player.study
          data:
            type: announce
            #method: all
          message: >-
            {% if trigger.to_state.state == 'Printing' %}
              {{ trigger.to_state.attributes.friendly_name }} has begun printing
            {% else %}
              {{ trigger.to_state.attributes.friendly_name }} has stopped printing
            {% endif %}