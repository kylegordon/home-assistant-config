esphome:
  name: ili9341_display
  platform: ESP8266
  board: d1_mini

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_pass
  # FIXME Needs AP details

captive_portal:

logger:

api:

ota:

web_server:

time:
  - platform: homeassistant
    id: esptime
    timezone: Europe/London

font:
  - file: 'slkscr.ttf'
    id: font1
    size: 8

  - file: 'BebasNeue-Regular.ttf'
    id: font2
    size: 20

  - file: 'arial.ttf'
    id: font3
    size: 14

sensor:
  - platform: homeassistant
    id: internet_speed_in
    entity_id: sensor.internet_speed_in
    internal: true

  - platform: homeassistant
    id: internet_speed_out
    entity_id: sensor.internet_speed_out
    internal: true

i2c:
  sda: GPIO4
  scl: GPIO5
  scan: False

display:
  # uses esphome:dev - https://github.com/esphome/esphome/pull/1233
  # aka docker run --rm -v "${PWD}":/config -it esphome/esphome:dev esphome/ili9341_display.yaml compile
  - platform: ili9341
    model: TFT_2.4
    cs_pin: 14
    dc_pin: 27
    led_pin: 32
    reset_pin: 33
    rotation: 0
    lambda: |-
      // Draw a circle in the middle of the display
      Color BLACK(0,0,0);
      Color RED(1,0,0);
      Color BLUE(0,0,1);
      Color GREEN(0,1,0);
      it.fill(BLACK);
      it.filled_circle(it.get_width() / 2, it.get_height() / 2, 30, RED);
      it.rectangle(10,10,100,100,BLUE);
      it.print(0, 0, id(my_font), GREEN,"Hello World!");
